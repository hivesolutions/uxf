sudo: false
dist: trusty
language: node_js
node_js:
  - "7"
  - "8"
  - "9"
  - "10"
  - "11"
before_install:
  - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
  - git submodule update --init --recursive
install:
  - npm install
script: npm run lint && npm test
git:
  submodules: false
deploy:
  provider: npm
  email: development@hive.pt
  api_key:
    secure: IlQZhI3jza1yCq05SMmtH0sj+wAGZhkywhyUgDX5/5erTlT0iV2ENADrjBJL3SaNNM6BpNTZTf1K3YPTSY8Pcaebd7LEGUz1ivDOrz46+YVEzI4v0jUHxO+ki2qEnBrsn2VikoegX4sghER3tM13jvUSIoi581uqIKeTv1XkShI=
  on:
    tags: true
    node_js: "7"
